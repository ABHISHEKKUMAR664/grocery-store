{"ast":null,"code":"import { createStore, combineReducers } from \"redux\";\nimport { reducer as formReducer } from \"redux-form\";\nimport cartReducer from \"../features/cart/reducer\";\nimport productsReducer from \"../features/product-listing/reducer\";\n\nfunction saveToLocalStorage(state) {\n  try {\n    const serializedState = JSON.stringify(state);\n    localStorage.setItem(\"state\", serializedState);\n  } catch (e) {\n    console.log(e);\n  }\n}\n\nfunction loadFromLocalStorage() {\n  try {\n    const serializedState = localStorage.getItem(\"state\");\n    if (serializedState === null) return undefined;\n    return JSON.parse(serializedState);\n  } catch (e) {\n    console.log(e);\n  }\n}\n\nconst rootReducer = combineReducers({\n  cart: cartReducer,\n  products: productsReducer,\n  form: formReducer\n});\nconst persistedState = loadFromLocalStorage();\nconst store = createStore(rootReducer, persistedState, window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__());\nstore.subscribe(() => saveToLocalStorage(store.getState()));\nexport default store;","map":{"version":3,"sources":["C:/Users/hp/Desktop/grocery-store-college/src/config/store.js"],"names":["createStore","combineReducers","reducer","formReducer","cartReducer","productsReducer","saveToLocalStorage","state","serializedState","JSON","stringify","localStorage","setItem","e","console","log","loadFromLocalStorage","getItem","undefined","parse","rootReducer","cart","products","form","persistedState","store","window","__REDUX_DEVTOOLS_EXTENSION__","subscribe","getState"],"mappings":"AAAA,SAASA,WAAT,EAAsBC,eAAtB,QAA6C,OAA7C;AACA,SAASC,OAAO,IAAIC,WAApB,QAAuC,YAAvC;AACA,OAAOC,WAAP,MAAwB,0BAAxB;AACA,OAAOC,eAAP,MAA4B,qCAA5B;;AAEA,SAASC,kBAAT,CAA4BC,KAA5B,EAAmC;AACjC,MAAI;AACF,UAAMC,eAAe,GAAGC,IAAI,CAACC,SAAL,CAAeH,KAAf,CAAxB;AACAI,IAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BJ,eAA9B;AACD,GAHD,CAGE,OAAOK,CAAP,EAAU;AACVC,IAAAA,OAAO,CAACC,GAAR,CAAYF,CAAZ;AACD;AACF;;AAED,SAASG,oBAAT,GAAgC;AAC9B,MAAI;AACF,UAAMR,eAAe,GAAGG,YAAY,CAACM,OAAb,CAAqB,OAArB,CAAxB;AACA,QAAIT,eAAe,KAAK,IAAxB,EAA8B,OAAOU,SAAP;AAC9B,WAAOT,IAAI,CAACU,KAAL,CAAWX,eAAX,CAAP;AACD,GAJD,CAIE,OAAOK,CAAP,EAAU;AACVC,IAAAA,OAAO,CAACC,GAAR,CAAYF,CAAZ;AACD;AACF;;AAED,MAAMO,WAAW,GAAGnB,eAAe,CAAC;AAClCoB,EAAAA,IAAI,EAAEjB,WAD4B;AAElCkB,EAAAA,QAAQ,EAAEjB,eAFwB;AAGlCkB,EAAAA,IAAI,EAAEpB;AAH4B,CAAD,CAAnC;AAMA,MAAMqB,cAAc,GAAGR,oBAAoB,EAA3C;AAEA,MAAMS,KAAK,GAAGzB,WAAW,CACvBoB,WADuB,EAEvBI,cAFuB,EAGvBE,MAAM,CAACC,4BAAP,IAAuCD,MAAM,CAACC,4BAAP,EAHhB,CAAzB;AAMAF,KAAK,CAACG,SAAN,CAAgB,MAAMtB,kBAAkB,CAACmB,KAAK,CAACI,QAAN,EAAD,CAAxC;AAEA,eAAeJ,KAAf","sourcesContent":["import { createStore, combineReducers } from \"redux\";\r\nimport { reducer as formReducer } from \"redux-form\";\r\nimport cartReducer from \"../features/cart/reducer\";\r\nimport productsReducer from \"../features/product-listing/reducer\";\r\n\r\nfunction saveToLocalStorage(state) {\r\n  try {\r\n    const serializedState = JSON.stringify(state);\r\n    localStorage.setItem(\"state\", serializedState);\r\n  } catch (e) {\r\n    console.log(e);\r\n  }\r\n}\r\n\r\nfunction loadFromLocalStorage() {\r\n  try {\r\n    const serializedState = localStorage.getItem(\"state\");\r\n    if (serializedState === null) return undefined;\r\n    return JSON.parse(serializedState);\r\n  } catch (e) {\r\n    console.log(e);\r\n  }\r\n}\r\n\r\nconst rootReducer = combineReducers({\r\n  cart: cartReducer,\r\n  products: productsReducer,\r\n  form: formReducer\r\n});\r\n\r\nconst persistedState = loadFromLocalStorage();\r\n\r\nconst store = createStore(\r\n  rootReducer,\r\n  persistedState,\r\n  window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\r\n);\r\n\r\nstore.subscribe(() => saveToLocalStorage(store.getState()));\r\n\r\nexport default store;\r\n"]},"metadata":{},"sourceType":"module"}