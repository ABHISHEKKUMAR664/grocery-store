{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\hp\\\\Desktop\\\\grocery-store-college\\\\src\\\\pages\\\\registerpage.js\";\nimport React, { Component } from \"react\";\nimport { Button, Form, Grid, Header, Message, Segment } from \"semantic-ui-react\";\n\nclass Register extends Component {\n  constructor() {\n    super();\n\n    this.handleChange = event => {\n      event.persist();\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n    };\n\n    this.handleSignUpUserProfile = event => {\n      event.preventDefault();\n      this.fetchRegister();\n      this.props.history.push(\"/\");\n    };\n\n    this.state = {\n      first_name: \"\",\n      last_name: \"\",\n      username: \"\",\n      password: \"\",\n      email: \"\"\n    };\n  }\n\n  fetchRegister() {\n    fetch(\"https://grocery-delivery-backend.herokuapp.com/api/v1/users\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Accept: \"application/json\"\n      },\n      body: JSON.stringify({\n        user: {\n          first_name: this.state.first_name,\n          last_name: this.state.last_name,\n          username: this.state.username,\n          password: this.state.password,\n          email: this.state.email\n        }\n      })\n    }).then(resp => resp.json()).then(response => {\n      console.log(\"Sign Up Response from fetch: \", response);\n\n      if (response.error === \"failed to create user\") {\n        alert(\"This user already exists\");\n      } else {\n        this.setState({\n          user: response.user\n        }); //store jwt token in local storage\n\n        localStorage.setItem(\"jwt\", response.jwt);\n        localStorage.setItem(\"user\", JSON.stringify(response.user));\n      }\n    });\n  }\n\n  render() {\n    console.log(\"Current SignUp State: \", this.state);\n    return React.createElement(Grid, {\n      verticalAlign: \"middle\",\n      centered: true,\n      columns: 2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(Grid.Column, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }), React.createElement(Header, {\n      as: \"h2\",\n      textAlign: \"center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, \"Register to start shopping!\"), React.createElement(Segment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(Form, {\n      size: \"large\",\n      onSubmit: event => this.handleSignUpUserProfile(event),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, React.createElement(Form.Input, {\n      fluid: true,\n      icon: \"address book\",\n      iconPosition: \"left\",\n      placeholder: \"First Name\",\n      name: \"first_name\",\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }), React.createElement(Form.Input, {\n      fluid: true,\n      icon: \"address book\",\n      iconPosition: \"left\",\n      placeholder: \"Last Name\",\n      name: \"last_name\",\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }), React.createElement(Form.Input, {\n      fluid: true,\n      icon: \"user\",\n      iconPosition: \"left\",\n      placeholder: \"Email\",\n      name: \"email\",\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }), React.createElement(Form.Input, {\n      fluid: true,\n      icon: \"envelope\",\n      iconPosition: \"left\",\n      placeholder: \"Username\",\n      name: \"username\",\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }), React.createElement(Form.Input, {\n      fluid: true,\n      icon: \"lock\",\n      iconPosition: \"left\",\n      placeholder: \"Password\",\n      type: \"password\",\n      name: \"password\",\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }), React.createElement(Button, {\n      color: \"green\",\n      fluid: true,\n      size: \"large\",\n      onClick: () => console.log(\"Clicked\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, \"Sign Up\"))), React.createElement(Message, {\n      align: \"center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }, \"Already registered? \", React.createElement(\"a\", {\n      href: \"/login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, \"Login here\"))));\n  }\n\n}\n\nexport default Register;","map":{"version":3,"sources":["C:/Users/hp/Desktop/grocery-store-college/src/pages/registerpage.js"],"names":["React","Component","Button","Form","Grid","Header","Message","Segment","Register","constructor","handleChange","event","persist","setState","target","name","value","handleSignUpUserProfile","preventDefault","fetchRegister","props","history","push","state","first_name","last_name","username","password","email","fetch","method","headers","Accept","body","JSON","stringify","user","then","resp","json","response","console","log","error","alert","localStorage","setItem","jwt","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport {\r\n  Button,\r\n  Form,\r\n  Grid,\r\n  Header,\r\n  Message,\r\n  Segment\r\n} from \"semantic-ui-react\";\r\n\r\nclass Register extends Component {\r\n  constructor() {\r\n    super();\r\n\r\n    this.state = {\r\n      first_name: \"\",\r\n      last_name: \"\",\r\n      username: \"\",\r\n      password: \"\",\r\n      email: \"\"\r\n    };\r\n  }\r\n\r\n  handleChange = event => {\r\n    event.persist();\r\n    this.setState({\r\n      [event.target.name]: event.target.value\r\n    });\r\n  };\r\n\r\n  handleSignUpUserProfile = event => {\r\n    event.preventDefault();\r\n    this.fetchRegister();\r\n    this.props.history.push(\"/\");\r\n  };\r\n\r\n  fetchRegister() {\r\n    fetch(\"https://grocery-delivery-backend.herokuapp.com/api/v1/users\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Accept: \"application/json\"\r\n      },\r\n      body: JSON.stringify({\r\n        user: {\r\n          first_name: this.state.first_name,\r\n          last_name: this.state.last_name,\r\n          username: this.state.username,\r\n          password: this.state.password,\r\n          email: this.state.email\r\n        }\r\n      })\r\n    })\r\n      .then(resp => resp.json())\r\n      .then(response => {\r\n        console.log(\"Sign Up Response from fetch: \", response);\r\n        if (response.error === \"failed to create user\") {\r\n          alert(\"This user already exists\");\r\n        } else {\r\n          this.setState({ user: response.user });\r\n          //store jwt token in local storage\r\n          localStorage.setItem(\"jwt\", response.jwt);\r\n          localStorage.setItem(\"user\", JSON.stringify(response.user));\r\n        }\r\n      });\r\n  }\r\n\r\n  render() {\r\n    console.log(\"Current SignUp State: \", this.state);\r\n\r\n    return (\r\n      <Grid verticalAlign=\"middle\" centered columns={2}>\r\n        <Grid.Column>\r\n          <br></br>\r\n          <Header as=\"h2\" textAlign=\"center\">\r\n            Register to start shopping!\r\n          </Header>\r\n          <Segment>\r\n            <Form\r\n              size=\"large\"\r\n              onSubmit={event => this.handleSignUpUserProfile(event)}\r\n            >\r\n              <Form.Input\r\n                fluid\r\n                icon=\"address book\"\r\n                iconPosition=\"left\"\r\n                placeholder=\"First Name\"\r\n                name=\"first_name\"\r\n                onChange={this.handleChange}\r\n              />\r\n              <Form.Input\r\n                fluid\r\n                icon=\"address book\"\r\n                iconPosition=\"left\"\r\n                placeholder=\"Last Name\"\r\n                name=\"last_name\"\r\n                onChange={this.handleChange}\r\n              />\r\n              <Form.Input\r\n                fluid\r\n                icon=\"user\"\r\n                iconPosition=\"left\"\r\n                placeholder=\"Email\"\r\n                name=\"email\"\r\n                onChange={this.handleChange}\r\n              />\r\n              <Form.Input\r\n                fluid\r\n                icon=\"envelope\"\r\n                iconPosition=\"left\"\r\n                placeholder=\"Username\"\r\n                name=\"username\"\r\n                onChange={this.handleChange}\r\n              />\r\n              <Form.Input\r\n                fluid\r\n                icon=\"lock\"\r\n                iconPosition=\"left\"\r\n                placeholder=\"Password\"\r\n                type=\"password\"\r\n                name=\"password\"\r\n                onChange={this.handleChange}\r\n              />\r\n              <Button\r\n                color=\"green\"\r\n                fluid\r\n                size=\"large\"\r\n                onClick={() => console.log(\"Clicked\")}\r\n              >\r\n                Sign Up\r\n              </Button>\r\n            </Form>\r\n          </Segment>\r\n          <Message align=\"center\">\r\n            Already registered? <a href=\"/login\">Login here</a>\r\n          </Message>\r\n        </Grid.Column>\r\n      </Grid>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Register;\r\n"]},"metadata":{},"sourceType":"module"}